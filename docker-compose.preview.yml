version: "1"
services:
    db:
      env_file:
        - .\Backend\.env.production
    api:
      build:
        dockerfile: Dockerfile.prod
      env_file:
        - .\Backend\.env.production
    client:
      image: ticketify-client
      build:
        context: .\Client
        dockerfile: Dockerfile.prod
        args:
          VITE_API_URL: ${VITE_API_URL}
          VITE_SUPPORT_EMAIL: ${VITE_SUPPORT_EMAIL}
          VITE_VALID_IMAGETYPES_REGEX: ${VITE_VALID_IMAGETYPES_REGEX}
      ports: 
        - 3000:80
      depends_on:
        - api